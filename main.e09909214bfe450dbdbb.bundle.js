(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return Spacer})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Link}));var _templateObject,_home_circleci_meapla_yarn_cache_babel_runtime_npm_7_12_5_b3edb8ee8e_423fb00793_zip_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(593),_home_circleci_meapla_yarn_cache_babel_runtime_npm_7_12_5_b3edb8ee8e_423fb00793_zip_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(134),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),next_link__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(7),__webpack_require__(276)),next_link__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__),styled_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),grommet__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1262),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5),Spacer=(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement,Object(styled_components__WEBPACK_IMPORTED_MODULE_5__.createGlobalStyle)(_templateObject||(_templateObject=Object(_home_circleci_meapla_yarn_cache_babel_runtime_npm_7_12_5_b3edb8ee8e_423fb00793_zip_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n  body {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"]))),styled_components__WEBPACK_IMPORTED_MODULE_5__.default.div.withConfig({displayName:"styles__Spacer",componentId:"sc__sc-1147n06-0"})(["height:1rem;width:1rem;"])),Link=function Link(_ref){var href=_ref.href,props=Object(_home_circleci_meapla_yarn_cache_babel_runtime_npm_7_12_5_b3edb8ee8e_423fb00793_zip_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,["href"]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_4___default.a,{href:href||"",passHref:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_6__.a,Object.assign({},props))})};Link.displayName="Link"},1200:function(module,exports,__webpack_require__){"use strict";__webpack_require__(13),__webpack_require__(9),__webpack_require__(60),__webpack_require__(1201),__webpack_require__(55),__webpack_require__(56),__webpack_require__(1202),__webpack_require__(46),__webpack_require__(57);var _clientApi=__webpack_require__(80),_clientLogger=__webpack_require__(52),_configFilename=__webpack_require__(1252);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1221:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(451).configure)([__webpack_require__(1222)],module,!1)}).call(this,__webpack_require__(157)(module))},1222:function(module,exports,__webpack_require__){var map={"./components/IngredientForm/index.stories.tsx":1223,"./components/Navbar/index.stories.tsx":1253,"./components/RecipeForm/index.stories.tsx":1254,"./components/SignIn/index.stories.tsx":1256};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1222},1223:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Wrapped",(function(){return Wrapped}));__webpack_require__(7);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_typings_graphql__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(169),_storybook_WrapperDecorator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(171),_index__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(207),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5);react__WEBPACK_IMPORTED_MODULE_1__.createElement;__webpack_exports__.default={title:"IngredientForm"};var props={index:0,ingredient:{id:0,name:"Butter",amount:10,measurement:_typings_graphql__WEBPACK_IMPORTED_MODULE_2__.a.Gramm},onChange:function onChange(){},onDelete:function onDelete(){}},Default=function Default(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_index__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},props))};Default.displayName="Default";var Wrapped=function Wrapped(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_index__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},props))};Wrapped.displayName="Wrapped",Wrapped.decorators=[_storybook_WrapperDecorator__WEBPACK_IMPORTED_MODULE_3__.a],Default.parameters=Object.assign({storySource:{source:"() => <IngredientForm {...props} />"}},Default.parameters),Wrapped.parameters=Object.assign({storySource:{source:"() => <IngredientForm {...props} />"}},Wrapped.parameters)},1252:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"decorators",(function(){return decorators})),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var _templateObject,apolloClientSingleton,taggedTemplateLiteral=__webpack_require__(134),react=__webpack_require__(0),react_default=__webpack_require__.n(react),styled_components_browser_esm=__webpack_require__(1),jsx_runtime=(__webpack_require__(1203),__webpack_require__(5)),StoryStyles=(react_default.a.createElement,Object(styled_components_browser_esm.createGlobalStyle)(_templateObject||(_templateObject=Object(taggedTemplateLiteral.a)(["\n  body {\n    background: transparent;\n    padding: 50px;\n  }\n"])))),_apollo_client=__webpack_require__(76),context=(__webpack_require__(7),__webpack_require__(22),__webpack_require__(589)),uri="https://meapla-server.herokuapp.com",apolloClient_authLink=function authLink(token){return Object(context.a)((function(_,_ref){var headers=_ref.headers;return{headers:Object.assign({},headers,{authorization:token?"Bearer ".concat(token):""})}}))},apolloClient_createApolloClient=function createApolloClient(){return new _apollo_client.ApolloClient({ssrMode:"undefined"==typeof window,cache:new _apollo_client.InMemoryCache,connectToDevTools:!0})},apolloClient_useApollo=function useApollo(initialState,token){return Object(react.useMemo)((function(){return function initializeApollo(){var _apolloClientSingleto,initialState=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,token=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,apolloClient=null!==(_apolloClientSingleto=apolloClientSingleton)&&void 0!==_apolloClientSingleto?_apolloClientSingleto:apolloClient_createApolloClient();if(initialState){var existingCache=apolloClient.extract();apolloClient.cache.restore(Object.assign({},existingCache,initialState))}return apolloClient.setLink(apolloClient_authLink(token).concat(new _apollo_client.HttpLink({uri:uri}))),"undefined"==typeof window||apolloClientSingleton||(apolloClientSingleton=apolloClient),apolloClient}(initialState,token)}),[initialState,token])},ApolloDecorator_ApolloDecorator=(react_default.a.createElement,function ApolloDecorator(story){var client=apolloClient_useApollo({});return Object(jsx_runtime.jsx)(_apollo_client.ApolloProvider,{client:client,children:story()})});ApolloDecorator_ApolloDecorator.displayName="ApolloDecorator";var Grommet=__webpack_require__(1285),themes=__webpack_require__(592),GrommetDecorator_GrommetDecorator=(react.createElement,function GrommetDecorator(storyFn){return Object(jsx_runtime.jsx)(Grommet.a,{theme:themes.grommet,children:storyFn()})});GrommetDecorator_GrommetDecorator.displayName="GrommetDecorator";var decorators=[function StyleDecorator(story){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(StoryStyles,{}),story()]})},ApolloDecorator_ApolloDecorator,GrommetDecorator_GrommetDecorator],parameters={backgrounds:{default:"white",values:[{name:"white",value:"#fff"},{name:"dark",value:"#000"}]}}},1253:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LoggedIn",(function(){return index_stories_LoggedIn})),__webpack_require__.d(__webpack_exports__,"LoggedOut",(function(){return index_stories_LoggedOut}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),regenerator=(__webpack_require__(7),__webpack_require__(50)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(75),next_router=(__webpack_require__(85),__webpack_require__(60),__webpack_require__(19),__webpack_require__(275)),Header=__webpack_require__(1282),Box=__webpack_require__(94),ResponsiveContext=__webpack_require__(1275),Menu=__webpack_require__(1281),Nav=__webpack_require__(1283),styles=__webpack_require__(120),client=__webpack_require__(170),jsx_runtime=__webpack_require__(5),SignInBar_SignInBar=(react.createElement,function SignInBar(){return Object(jsx_runtime.jsx)(Box.a,{direction:"row",align:"center",gap:"small",pad:"small",children:Object(jsx_runtime.jsx)(styles.a,{onClick:Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(client.signIn)();case 2:case"end":return _context.stop()}}),_callee)}))),href:"#",children:"Sign in"})})});SignInBar_SignInBar.displayName="SignInBar";__webpack_require__(11);var Text=__webpack_require__(596),Avatar=__webpack_require__(1286),gravatar_url=__webpack_require__(405),gravatar_url_default=__webpack_require__.n(gravatar_url),UserBar_getGravatar=(react.createElement,function getGravatar(user){var options={default:"retro",rating:"x",size:48};return user.email?gravatar_url_default()(user.email,options):user.name?gravatar_url_default()(user.name,options):""}),UserBar_UserBar=function UserBar(_ref){var _onClick,user=_ref.user;return Object(jsx_runtime.jsx)(Menu.a,{label:Object(jsx_runtime.jsxs)(Box.a,{direction:"row",align:"center",gap:"small",children:[Object(jsx_runtime.jsx)(Text.a,{children:user.name}),Object(jsx_runtime.jsx)(Avatar.a,{src:user.image||UserBar_getGravatar(user),title:"User avatar",size:"small"})]}),items:[{label:"Logout",onClick:(_onClick=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(client.signOut)();case 2:case"end":return _context.stop()}}),_callee)}))),function onClick(){return _onClick.apply(this,arguments)})}]})};UserBar_UserBar.displayName="UserBar";react.createElement;var navigationMenu=[{label:"Author a recipe",href:"/",requireAuth:!0}],Navbar_Navbar=function Navbar(_ref){var user=_ref.user,router=Object(next_router.useRouter)(),filteredMenu=react.useMemo((function(){return navigationMenu.filter((function(menuItem){return!(menuItem.requireAuth&&!user)}))}),[user]);return Object(jsx_runtime.jsxs)(Header.a,{background:"dark-1",pad:"small",children:[Object(jsx_runtime.jsx)(Box.a,{direction:"row",align:"center",gap:"small",children:Object(jsx_runtime.jsx)(styles.a,{href:"/",color:"light-1",children:"meapla"})}),Object(jsx_runtime.jsxs)(Box.a,{direction:"row",align:"center",gap:"small",children:[Object(jsx_runtime.jsx)(ResponsiveContext.a.Consumer,{children:function children(responsive){return"small"===responsive?Object(jsx_runtime.jsx)(Menu.a,{label:"Menu",items:filteredMenu.map((function(menuItem){return{label:menuItem.label,onClick:(_onClick=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,router.push(menuItem.href);case 2:case"end":return _context.stop()}}),_callee)}))),function onClick(){return _onClick.apply(this,arguments)})};var _onClick}))}):Object(jsx_runtime.jsx)(Nav.a,{direction:"row",children:filteredMenu.map((function(menuItem){return Object(jsx_runtime.jsx)(styles.a,{href:menuItem.href,label:menuItem.label},menuItem.label)}))})}}),user?Object(jsx_runtime.jsx)(UserBar_UserBar,{user:user}):Object(jsx_runtime.jsx)(SignInBar_SignInBar,{})]})]})};Navbar_Navbar.displayName="Navbar";react_default.a.createElement,__webpack_exports__.default={title:"Navbar"};var props={user:{name:"Demo User",email:"demouser@example.com",image:void 0}},index_stories_LoggedIn=function LoggedIn(){return Object(jsx_runtime.jsx)(Navbar_Navbar,Object.assign({},props))};index_stories_LoggedIn.displayName="LoggedIn";var index_stories_LoggedOut=function LoggedOut(){return Object(jsx_runtime.jsx)(Navbar_Navbar,{})};index_stories_LoggedOut.displayName="LoggedOut",index_stories_LoggedIn.parameters=Object.assign({storySource:{source:"() => <Navbar {...props} />"}},index_stories_LoggedIn.parameters),index_stories_LoggedOut.parameters=Object.assign({storySource:{source:"() => <Navbar />"}},index_stories_LoggedOut.parameters)},1254:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return index_stories_Default})),__webpack_require__.d(__webpack_exports__,"Wrapped",(function(){return index_stories_Wrapped}));var _templateObject,_templateObject2,_templateObject3,react=__webpack_require__(0),react_default=__webpack_require__.n(react),WrapperDecorator=(__webpack_require__(7),__webpack_require__(171)),regenerator=__webpack_require__(50),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(75),slicedToArray=__webpack_require__(93),Main=(__webpack_require__(85),__webpack_require__(19),__webpack_require__(1278)),Text=__webpack_require__(596),Heading=__webpack_require__(1287),Form=__webpack_require__(1284),Grid=__webpack_require__(1261),FormField=__webpack_require__(406),TextInput=__webpack_require__(595),Box=__webpack_require__(94),Button=__webpack_require__(278),TextArea=__webpack_require__(1288),styles=__webpack_require__(120),IngredientForm=__webpack_require__(207),toConsumableArray=__webpack_require__(210),client=(__webpack_require__(60),__webpack_require__(90),__webpack_require__(104),__webpack_require__(22),__webpack_require__(11),__webpack_require__(76)),graphql=__webpack_require__(169),taggedTemplateLiteral=__webpack_require__(134),ADD_INGREDIENT_MUTATION=Object(client.gql)(_templateObject||(_templateObject=Object(taggedTemplateLiteral.a)(["\n  mutation addIngredient($input: [IngredientInput!]!) {\n    addIngredient(input: $input) {\n      ingredients {\n        id\n        name\n        amount\n        measurement\n      }\n    }\n  }\n"]))),UPDATE_INGREDIENT_MUTATION=Object(client.gql)(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral.a)(["\n  mutation updateIngredient($input: IngredientUpdateInput!) {\n    updateIngredient(input: $input) {\n      ingredients {\n        id\n        name\n        amount\n        measurement\n      }\n    }\n  }\n"]))),DELETE_INGREDIENT_MUTATION=Object(client.gql)(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral.a)(["\n  mutation deleteIngredient($filter: IngredientFilter!) {\n    deleteIngredient(filter: $filter) {\n      ingredients {\n        id\n        name\n        amount\n        measurement\n      }\n    }\n  }\n"]))),jsx_runtime=__webpack_require__(5),RecipeForm_RecipeForm=(react.createElement,function RecipeForm(){var _React$useState=react.useState({}),_React$useState2=Object(slicedToArray.a)(_React$useState,2),values=_React$useState2[0],setValues=_React$useState2[1],_React$useState3=react.useState(""),_React$useState4=Object(slicedToArray.a)(_React$useState3,2),newIngredientName=_React$useState4[0],setNewIngredientName=_React$useState4[1],_useIngredient=function useIngredient(){var _React$useState=react.useState([]),_React$useState2=Object(slicedToArray.a)(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1],_React$useState3=react.useState(),_React$useState4=Object(slicedToArray.a)(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1],_React$useState5=react.useState("idle"),_React$useState6=Object(slicedToArray.a)(_React$useState5,2),status=_React$useState6[0],setStatus=_React$useState6[1],_useMutation=Object(client.useMutation)(ADD_INGREDIENT_MUTATION),addIngredientMutation=Object(slicedToArray.a)(_useMutation,1)[0],_useMutation3=Object(client.useMutation)(DELETE_INGREDIENT_MUTATION),deleteIngredientMutation=Object(slicedToArray.a)(_useMutation3,1)[0],_useMutation5=Object(client.useMutation)(UPDATE_INGREDIENT_MUTATION),updateIngredientMutation=Object(slicedToArray.a)(_useMutation5,1)[0],deleteIngredient=react.useCallback(function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(passedId){var result,deletedIds;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setStatus("loading"),_context.next=3,deleteIngredientMutation({variables:{filter:{ids:[passedId]}}});case 3:if((result=_context.sent).data){_context.next=8;break}return setStatus("error"),setError("Could not delete ingredient"),_context.abrupt("return");case 8:deletedIds=result.data.deleteIngredient.ingredients.map((function(_ref2){return _ref2.id})),setData(data.filter((function(_ref3){var currentId=_ref3.id;return!deletedIds.includes(currentId)}))),setStatus("success");case 11:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[deleteIngredientMutation,data]),addIngredient=react.useCallback(function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(ingredientName){var result;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(ingredientName){_context2.next=2;break}return _context2.abrupt("return");case 2:return setStatus("loading"),_context2.next=5,addIngredientMutation({variables:{input:[{name:ingredientName,amount:0,measurement:graphql.a.Gramm}]}});case 5:if((result=_context2.sent).data){_context2.next=10;break}return setStatus("error"),setError("Could not write ingredient"),_context2.abrupt("return");case 10:setData([].concat(Object(toConsumableArray.a)(data),Object(toConsumableArray.a)(result.data.addIngredient.ingredients))),setStatus("success");case 12:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref4.apply(this,arguments)}}(),[addIngredientMutation,data]),updateIngredient=react.useCallback(function(){var _ref6=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(_ref5){var id,amount,measurement,name,result;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return id=_ref5.id,amount=_ref5.amount,measurement=_ref5.measurement,name=_ref5.name,setStatus("loading"),_context3.next=4,updateIngredientMutation({variables:{input:{filter:{ids:[id]},set:{amount:amount,measurement:measurement,name:name}}}});case 4:if((result=_context3.sent).data){_context3.next=9;break}return setStatus("error"),setError("Could not write ingredient"),_context3.abrupt("return");case 9:setData([].concat(Object(toConsumableArray.a)(data.filter((function(_ref7){var currentId=_ref7.id;return id!==currentId}))),Object(toConsumableArray.a)(result.data.updateIngredient.ingredients))),setStatus("success");case 11:case"end":return _context3.stop()}}),_callee3)})));return function(_x3){return _ref6.apply(this,arguments)}}(),[data,updateIngredientMutation]);return{data:data,status:status,error:error,addIngredient:addIngredient,updateIngredient:updateIngredient,deleteIngredient:deleteIngredient}}(),ingredientStatus=_useIngredient.status,ingredients=_useIngredient.data,error=_useIngredient.error,addIngredient=_useIngredient.addIngredient,updateIngredient=_useIngredient.updateIngredient,deleteIngredient=_useIngredient.deleteIngredient;return Object(jsx_runtime.jsxs)(Main.a,{children:[error&&Object(jsx_runtime.jsx)(Text.a,{color:"error",children:error}),Object(jsx_runtime.jsx)(Heading.a,{children:"Add a new recipe"}),Object(jsx_runtime.jsx)(styles.b,{}),Object(jsx_runtime.jsxs)(Form.a,{value:values,onChange:function onChange(nextValue){setValues(nextValue)},onReset:function onReset(){return setValues({})},children:[Object(jsx_runtime.jsxs)(Grid.a,{rows:["auto","auto","auto"],columns:["auto","auto"],gap:"medium",areas:[{name:"ingredients",start:[0,1],end:[1,1]},{name:"instructions",start:[0,2],end:[1,2]}],children:[Object(jsx_runtime.jsx)(FormField.a,{name:"name",label:"Name",children:Object(jsx_runtime.jsx)(TextInput.a,{name:"name"})}),Object(jsx_runtime.jsx)(FormField.a,{name:"thumbnail",label:"Thumbnail",children:Object(jsx_runtime.jsx)(TextInput.a,{name:"thumbnail"})}),Object(jsx_runtime.jsxs)(Box.a,{gridArea:"ingredients",children:[ingredients.map((function(ingredient,index){return Object(jsx_runtime.jsx)(IngredientForm.a,{index:index,ingredient:ingredient,onDelete:deleteIngredient,onChange:updateIngredient},"ingredient-".concat(ingredient.id))})),Object(jsx_runtime.jsxs)(Box.a,{direction:"row",children:[Object(jsx_runtime.jsx)(TextInput.a,{value:newIngredientName,placeholder:"Add new ingredient","aria-label":"Enter new ingredient name",onChange:function onChange(e){return setNewIngredientName(e.target.value)}}),Object(jsx_runtime.jsx)(Button.a,{type:"button",primary:!0,disabled:!newIngredientName||"loading"===ingredientStatus,title:"Add new ingredient",label:"+",onClick:Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,addIngredient(newIngredientName);case 2:setNewIngredientName("");case 3:case"end":return _context.stop()}}),_callee)})))})]})]}),Object(jsx_runtime.jsx)(Box.a,{gridArea:"instructions",children:Object(jsx_runtime.jsx)(FormField.a,{name:"intructions",label:"Instructions",children:Object(jsx_runtime.jsx)(Box.a,{width:"large",height:"medium",border:{color:"brand",size:"small"},children:Object(jsx_runtime.jsx)(TextArea.a,{name:"intructions",fill:!0})})})})]}),Object(jsx_runtime.jsxs)(Box.a,{direction:"row",gap:"medium",children:[Object(jsx_runtime.jsx)(Button.a,{type:"submit",primary:!0,label:"Submit"}),Object(jsx_runtime.jsx)(Button.a,{type:"reset",label:"Reset"})]})]})]})});RecipeForm_RecipeForm.displayName="RecipeForm";react_default.a.createElement,__webpack_exports__.default={title:"RecipeForm"};var index_stories_Default=function Default(){return Object(jsx_runtime.jsx)(RecipeForm_RecipeForm,{})};index_stories_Default.displayName="Default";var index_stories_Wrapped=function Wrapped(){return Object(jsx_runtime.jsx)(RecipeForm_RecipeForm,{})};index_stories_Wrapped.displayName="Wrapped",index_stories_Wrapped.decorators=[WrapperDecorator.a],index_stories_Default.parameters=Object.assign({storySource:{source:"() => <RecipeForm />"}},index_stories_Default.parameters),index_stories_Wrapped.parameters=Object.assign({storySource:{source:"() => <RecipeForm />"}},index_stories_Wrapped.parameters)},1256:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return index_stories_Default})),__webpack_require__.d(__webpack_exports__,"Wrapped",(function(){return index_stories_Wrapped}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),WrapperDecorator=(__webpack_require__(7),__webpack_require__(171)),regenerator=__webpack_require__(50),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(75),next_link=(__webpack_require__(85),__webpack_require__(13),__webpack_require__(19),__webpack_require__(113),__webpack_require__(11),__webpack_require__(276)),link_default=__webpack_require__.n(next_link),next_router=__webpack_require__(275),Grid=__webpack_require__(1261),Box=__webpack_require__(94),Heading=__webpack_require__(1287),Button=__webpack_require__(278),client=__webpack_require__(170),styles=__webpack_require__(120),jsx_runtime=__webpack_require__(5),SignIn_SignIn=(react.createElement,function SignIn(_ref){var providers=_ref.providers,router=Object(next_router.useRouter)();return providers&&0!==Object.keys(providers).length?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(Grid.a,{columns:["medium"],gap:"small",children:[Object(jsx_runtime.jsx)(Box.a,{children:Object(jsx_runtime.jsx)(Heading.a,{level:2,textAlign:"center",children:"Sign in"})}),Object.values(providers).map((function(provider){return Object(jsx_runtime.jsx)(Box.a,{children:Object(jsx_runtime.jsx)(Button.a,{onClick:Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(client.signIn)(provider.id,{callbackUrl:"".concat(router.query.callbackUrl)});case 2:case"end":return _context.stop()}}),_callee)}))),primary:!0,label:"Sign in with ".concat(provider.name)})},provider.name)}))]}),Object(jsx_runtime.jsx)(styles.b,{}),Object(jsx_runtime.jsx)(link_default.a,{href:"/",children:"Back"})]}):Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Login is not possible at this time."})}),props=(react_default.a.createElement,__webpack_exports__.default={title:"Sign in"},{providers:{github:{id:"github",name:"GitHub",type:"oauth",signinUrl:"signin url",callbackUrl:"callback url"},google:{id:"google",name:"Google",type:"oauth",signinUrl:"signin url",callbackUrl:"callback url"},facebook:{id:"facebook",name:"Facebook",type:"oauth",signinUrl:"signin url",callbackUrl:"callback url"}}}),index_stories_Default=function Default(){return Object(jsx_runtime.jsx)(SignIn_SignIn,Object.assign({},props))};index_stories_Default.displayName="Default";var index_stories_Wrapped=function Wrapped(){return Object(jsx_runtime.jsx)(SignIn_SignIn,Object.assign({},props))};index_stories_Wrapped.displayName="Wrapped",index_stories_Wrapped.decorators=[WrapperDecorator.a],index_stories_Default.parameters=Object.assign({storySource:{source:"() => <SignIn {...props} />"}},index_stories_Default.parameters),index_stories_Wrapped.parameters=Object.assign({storySource:{source:"() => <SignIn {...props} />"}},index_stories_Wrapped.parameters)},169:function(module,__webpack_exports__,__webpack_require__){"use strict";var Measurement;__webpack_require__.d(__webpack_exports__,"a",(function(){return Measurement})),function(Measurement){Measurement.Gramm="GRAMM",Measurement.Milligramm="MILLIGRAMM",Measurement.Milliliters="MILLILITERS",Measurement.Teaspoon="TEASPOON"}(Measurement||(Measurement={}))},171:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return WrapperDecorator_WrapperDecorator}));var react=__webpack_require__(0),styled_components_browser_esm=__webpack_require__(1),Main=__webpack_require__(1278),CenteredMain=Object(styled_components_browser_esm.default)(Main.a).withConfig({displayName:"styles__CenteredMain",componentId:"sc__c9xues-0"})(["margin:0 auto;"]),jsx_runtime=__webpack_require__(5),WrapperDecorator_WrapperDecorator=(react.createElement,function WrapperDecorator(storyFn){return Object(jsx_runtime.jsx)(CenteredMain,{width:"large",children:storyFn()})});WrapperDecorator_WrapperDecorator.displayName="WrapperDecorator"},207:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return IngredientForm}));var _home_circleci_meapla_yarn_cache_babel_runtime_npm_7_12_5_b3edb8ee8e_423fb00793_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(93),react__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(11),__webpack_require__(7),__webpack_require__(536),__webpack_require__(233),__webpack_require__(113),__webpack_require__(0)),grommet__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1261),grommet__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(94),grommet__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(596),grommet__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(278),grommet__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(406),grommet__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(595),grommet__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1260),_typings_graphql__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(169),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5),IngredientForm=(react__WEBPACK_IMPORTED_MODULE_6__.createElement,function IngredientForm(_ref){var index=_ref.index,ingredientProp=_ref.ingredient,onDelete=_ref.onDelete,_onChange=_ref.onChange,_React$useState=react__WEBPACK_IMPORTED_MODULE_6__.useState(ingredientProp),_React$useState2=Object(_home_circleci_meapla_yarn_cache_babel_runtime_npm_7_12_5_b3edb8ee8e_423fb00793_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_React$useState,2),ingredient=_React$useState2[0],setIngredient=_React$useState2[1],id=ingredient.id,name=ingredient.name,amount=ingredient.amount,measurement=ingredient.measurement;return react__WEBPACK_IMPORTED_MODULE_6__.useEffect((function(){setIngredient(ingredientProp)}),[ingredientProp]),name?null===amount?null:measurement?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_7__.a,{rows:["auto","auto"],columns:["auto","auto","auto"],gap:"small",areas:[{name:"header",start:[0,0],end:[2,0]}],children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_8__.a,{gridArea:"header",direction:"row",gap:"small",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_9__.a,{children:["Ingredient ",index+1]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_10__.a,{type:"button",plain:!0,onClick:function onClick(){return onDelete(id)},label:"(Delete)"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_11__.a,{name:"amount[]",label:"Amount",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_12__.a,{"aria-label":"Amount",name:"amount[".concat(id,"]"),type:"number",value:amount,onChange:function onChange(_ref2){var valueAsNumber=_ref2.target.valueAsNumber,changedIngredient=Object.assign({},ingredient,{amount:Number.isNaN(valueAsNumber)?0:valueAsNumber});setIngredient(changedIngredient),_onChange(changedIngredient)}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_11__.a,{name:"measurement[".concat(id,"]"),label:"Measurement",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_13__.a,{"aria-label":"Measurement",name:"measurement[".concat(id,"]"),value:measurement,options:Object.values(_typings_graphql__WEBPACK_IMPORTED_MODULE_14__.a),onChange:function onChange(_ref3){var value=_ref3.value,changedIngredient=Object.assign({},ingredient,{measurement:value});setIngredient(changedIngredient),_onChange(changedIngredient)}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_11__.a,{name:"ingredient[]",label:"Name",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_12__.a,{"aria-label":"Name",name:"ingredient[".concat(id,"]"),value:name,readOnly:!0})})]}):null:null});IngredientForm.displayName="IngredientForm"},603:function(module,exports,__webpack_require__){__webpack_require__(604),__webpack_require__(760),__webpack_require__(761),__webpack_require__(919),__webpack_require__(1138),__webpack_require__(1179),__webpack_require__(1191),__webpack_require__(1193),__webpack_require__(1198),__webpack_require__(1200),module.exports=__webpack_require__(1221)},671:function(module,exports){},761:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(451)}},[[603,1,2]]]);
//# sourceMappingURL=main.e09909214bfe450dbdbb.bundle.js.map